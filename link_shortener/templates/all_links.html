{% extends 'base.html' %} {% block content %}
<div id='pop'></div>
<div class="container" >
  <form name='form' class='tableForm' id="forms" method="GET"action="#">
    <div class="tbHead">
      <div class="toggle">
        <div id='statusActive'>Active</div>
        <label class="switch">
          <input  onChange="this.form.submit()"name='is_active'type="checkbox"  id='checkbox' value='false' onclick="toggleActive()"/>
          <span class="slider round"></span>
        </label>
        <div id='statusDisabled'>Disabled</div>
      </div>
      <select onChange="this.form.submit()" name="owner" id="ownerFilter">
        <option value=''>Owner</option>
        {% for owner in data["owners"] %}
      <option value="{{ owner }}">{{ owner }}</option>
  {% endfor %}
      </select>
      <div id='searchBorder'>
        <div class='search_icon'>
        <img src="/links/icons/search.svg" alt="search__icon">
      </div>
        <input
          name="search"
          id="search"
          type="text"
          placeholder="Search"
          value=""
        />
      </div>
      <input onclick="clearFilters()" id="clearFilter" value="Clear Filters"></input>
    </div>
    <div>
      <a href="/create" id="createShort">
        <img src="/links/icons/plus.svg" alt="" /> Create Shortlink</a
      >
    </div>
  </form>
  <div id='tableContainer'>

    <table class="all-links-table">
      <tr>
        <th>Status</th>
        <th>Owner</th>
        <th>Link</th>
        <th>Shortlink</th>
        <th>Actions</th>
      </tr>
  
      {% for row in data['data'] %}
      <tr>
        <td id="isActive">
          {% if row.is_active %}
          <span class="actives">Active</span>
          {% else %}
          <span class="disabled">Disabled</span>
          {% endif %}
        </td>
        <td class="rowOwner">{{ row.owner }}</td>
        <td id="linkFade">
          <span><a class="rowurl" href="{{ row.url }}">{{ row.url }}</a></span>
        </td>
        <td id="shortlinked-{{row.id}}">
          <span id="domain">www.{{domain_name}}</span
          ><!-- / --><span id="endpoint1">/{{ row.endpoint}}</span>
        </td>
  
        <td class="actions">
          <a class="copy" onclick="copyShortLink('{{row.id}}')">
            <img src="/links/icons/copyIcon.svg" alt="copyicon" class="copyIcon" />
            <img src="/links/icons/hoverCopy.svg" alt="hovercopy" class="copyIconHover" />
            <div class="hoverCopy">
              <div class="triangleContainer"><span id="triangle-up"></span></div>
              <div class="hoverCopyContainer">
                <span class="copyHoverSquare square-{{row.id}}">copy</span>
              </div>
            </div>
          </a>
          <a class="editBtn" href="/edit/{{ row.id }}">
            <img
              src="/links/icons/edit.svg"
              height="20"
              width="20"
              alt="Not found"
              class="edits"
            />
            <img src="/links/icons/editHover.svg" alt="edit" class="hoverEdit" />
  
          </a>
          <a href="/delete/{{ row.id }}/confirm" class="deleteBtn">
            <img
              src="/links/icons/delete.svg"
              height="20"
              width="20"
              alt="Not found"
              class="delete"
            />
            <img src="/links/icons/deleteHover.svg " alt="deletehover" class="deleteHover" />
          </a>
        </td>
      </tr>
      {% endfor %}
    </table>
  </div>
</div>

{% endblock %}
